!function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("ractive","rx"));else if("function"==typeof define&&define.amd)define(["ractive","rx"],b);else{if(!a.Ractive||!a.Rx)throw new Error("Could not find Ractive and RxJS! They must be loaded before the ractive-adaptors-rxjs plugin");b(a.Ractive,a.Rx)}}("undefined"!=typeof window?window:this,function(a,b){"use strict";var c=function(a,b,c){var d=this;this.ractive=a,this.value=b,this.keypath=c,this.dispose=b.subscribe(function(b){d.updating||(d._value=b,d.updating=!0,a.set(c,b),d.updating=!1)})};c.prototype={get:function(){return this._value},teardown:function(){this.dispose()},reset:function(a){if(!this.updating){if(a instanceof b.Observable)return!1;this.updating=!0,this.updating=!1}}},a.adaptors.RxJS={filter:function(a){return a instanceof b.Observable},wrap:function(a,b,d){return new c(a,b,d)}}});